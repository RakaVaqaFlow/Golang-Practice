# –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ

## –ó–∞–¥–∞—á–∞
- –í–Ω–µ–¥—Ä–∏—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∫–æ–Ω—Å–æ–ª—å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ —Ç–∞–∫, —á—Ç–æ–±—ã –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–π –∫–æ–º–∞–Ω–¥—ã –ø–æ–Ω–∞–¥–æ–±–∏–ª–æ—Å—å –º–∏–Ω–∏–º—É–º –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É help, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≤–æ–¥–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–±–æ –≤—Å–µ—Ö –∏–º–µ—é—â–∏—Ö—Å—è –∫–æ–Ω—Å–æ–ª—å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥–∞—Ö 
- –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É spell —Å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º - —Å–ª–æ–≤–æ–º –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ
- –ö–æ–º–∞–Ω–¥–∞ spell –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ —Å–ª–æ–≤–æ, –∞ –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º —Ä–∞–±–æ—Ç—ã –≤—ã–≤–æ–¥–∏—Ç –≤ –∫–æ–Ω—Å–æ–ª—å –≤—Å–µ –±—É–∫–≤—ã —ç—Ç–æ–≥–æ —Å–ª–æ–≤–∞ —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª
- üíé –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É - —Å–∏–ª—å–Ω–æ —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π gofmt. –ù–∞ –≤—ã—Ö–æ–¥ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç *.txt —Ñ–∞–π–ª, –Ω–∞ –≤—ã—Ö–æ–¥–µ –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∞–±–∑–∞—Ü–µ–º –≤—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–∞–± –∏ —Å—Ç–∞–≤–∏—Ç —Ç–æ—á–∫—É –≤ –∫–æ–Ω—Ü–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π

## –†–µ—à–µ–Ω–∏–µ 

### 1. –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–Ω—Å–æ–ª—å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥

–ó–∞ –æ—Å–Ω–æ–≤—É –ø—Ä–æ–µ–∫—Ç–∞ –≤–∑—è—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –¥–æ–º–∞—à–Ω–µ–π —Ä–∞–±–æ—Ç—ã ‚Ññ5. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∞ —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
```
homework-6
‚îú‚îÄ‚îÄ‚îÄcmd
‚îú‚îÄ‚îÄ‚îÄinternal
‚îÇ   ‚îú‚îÄ‚îÄ‚îÄcommand_manager
‚îÇ   ‚îú‚îÄ‚îÄ‚îÄhandler
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ‚îÄdatabase_command_handler
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ‚îÄgofmt_command_handler
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄspell_command_handler
‚îÇ   ‚îî‚îÄ‚îÄ‚îÄpkg
‚îÇ       ‚îú‚îÄ‚îÄ‚îÄdb
‚îÇ       ‚îî‚îÄ‚îÄ‚îÄrepository
‚îÇ           ‚îî‚îÄ‚îÄ‚îÄpostgres
‚îú‚îÄ‚îÄ‚îÄmigrations
‚îî‚îÄ‚îÄ‚îÄsql
```

- cmd ‚Äï —Å–æ–¥–µ—Ä–∂–∏—Ç main.go 
- internal/command_manager ‚Äï —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∫–æ–º–∞–Ω–¥
- internal/handler —Å–æ–¥–µ—Ä–∂–∏—Ç:
    - handler.go ‚Äï –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞
    - database_command_handler ‚Äï –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥ —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
    - gofmt_command_handler ‚Äï –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã gofmt
    - spell_command_handler ‚Äï –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã spell
- internal/pkg/db —Å–æ–¥–µ—Ä–∂–∏—Ç:
    - —Ålient.go ‚Äï —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–ª–∏–µ–Ω—Ç–∞ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –°–£–ë–î
    - database.go ‚Äï —Å–æ–¥–µ—Ä–∂–∏—Ç –º–µ—Ç–æ–¥—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–∑–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É—è –±–∏–±–ª–∏–æ—Ç–µ–∫—É pgx, 
- internal/pkg/repository ‚Äï —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –ø–∞—Ç—Ç–µ—Ä–Ω–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
    - struct.go ‚Äï —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–±–ª–∏—Ü –ë–î
    - repository.go ‚Äï —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏
    - postgres ‚Äï —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏ PostgreSQL
- migrations ‚Äï –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏

–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–∑–º–µ–Ω–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–ª—è –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –°–£–ë–î –≤ internal/pkg/db/—Ålient.go : 
```
  host     = <host>
  port     = <port>
  user     = <user name>
  password = <password>
  dbname   = <database name>
```

–î–∞–ª–µ–µ, –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã
```
go run cmd/main.go
```

### 2. –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫?


–ö–æ–º–∞–Ω–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤ —Ä–∞–º–∫–∞—Ö —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –¥–µ–ª—è—Ç—Å—è –ø–æ —Ç–∏–ø—É –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º, –∫ –ø—Ä–∏–º–µ—Ä—É, –ø—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∫–æ–º–∞–Ω–¥ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö ‚Äï —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è DatabaseCommandHandler'–æ–º

–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤—Å–µ—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –µ—Å—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤. –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞—Ç—å –µ–º—É –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–∞–ª–∏–∑—É—é—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Handler

–í –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

![Untitled](docs/scheme.png)

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –æ–±–ª–∞—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫

–ï—Å–ª–∏ –≤–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –Ω–∏ –∫ –æ–¥–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∏–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–º–∞–Ω–¥ –æ–¥–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è, –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:

1. –í–Ω—É—Ç—Ä–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ handler —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø–∞–∫–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –≤–∞—à–µ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞
2. –í–Ω—É—Ç—Ä–∏ –ø–∞–∫–µ—Ç–∞ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–∞—à –æ–±—Ä–∞–±–æ—Ç—á–∏–∫, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É Handler:

```
type Handler interface {
	GetListOfCommands() []string
	IsMyCommand(command string) bool
	HandleCommand(command string)
	GetGoalOfHandler() string
}
```
3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤–∞—à –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏ –¥–æ–±–∞–≤–∏—Ç—å –µ–≥–æ –≤ –º–µ–Ω–µ–¥–∂–µ—Ä –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –≤ main.go

