# –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ

## –ó–∞–¥–∞—á–∞
1. –ò—Å–ø–æ–ª—å–∑—É—è —Å—É—â–Ω–æ—Å—Ç–∏, –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –Ω–∞ 5 –Ω–µ–¥–µ–ª–∏(–∏–ª–∏ –Ω–∞–ø–∏—Å–∞—Ç—å –Ω–æ–≤—ã–µ) –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å http –º–µ—Ç–æ–¥—ã, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –ü–æ–∫—Ä—ã—Ç—å —é–Ω–∏—Ç —Ç–µ—Å—Ç–∞–º–∏ —Ä—É—á–∫–∏ –∏–∑ –ø.1 . –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ - 40%. –î–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏–π –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Ö.
3. –ü–æ–∫—Ä—ã—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ —Ç–µ—Å—Ç–∞–º–∏ –º–µ—Ç–æ–¥—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –¥–∑ 5 –Ω–µ–¥–µ–ª–∏. –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç –∫–µ–π—Å—ã - —É—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ, –ø–æ–ª—É—á–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –∏–∑-–∑–∞ –ø–µ—Ä–µ–¥–∞—á–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
4. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å Makefile, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥—É—Ç —Å–ª–µ–¥ –∫–æ–º–∞–Ω–¥—ã: –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø—Ä–∏ –ø–æ–º–æ—â–∏ docker-compose, –∑–∞–ø—É—Å–∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤, –∑–∞–ø—É—Å–∫ —é–Ω–∏—Ç —Ç–µ—Å—Ç–æ–≤, –∑–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ –º–∏–≥—Ä–∞—Ü–∏–π, –æ—á–∏—â–µ–Ω–∏–µ –±–∞–∑—ã –æ—Ç —Ç–µ—Å—Ç–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö 
5. üíé –ü–æ–∫—Ä—ã—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ —Ç–µ—Å—Ç–∞–º–∏ —Ä—É—á–∫–∏ –∏–∑ –ø.1

## –†–µ—à–µ–Ω–∏–µ 

### 1. CRUD'—ã 

–†–µ—à–µ–Ω–∏–µ –æ—Å–Ω–æ–≤—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Ä–∞–±–æ—Ç–µ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏:

**Users**                                                        
| –ü–æ–ª–µ       | –¢–∏–ø                      |
| :--------: | :----------------------: |
| id         | BIGSERIAL                |
| name       | VARCHAR(50)              |
| email      | VARCHAR(100)             |
| password   | VARCHAR(100)             |
| created_at | TIMESTAMP WITH TIME ZONE |
| updated_at | TIMESTAMP WITH TIME ZONE |


**Tasks**

| –ü–æ–ª–µ        | –¢–∏–ø                      |
| :---------: | :----------------------: |
| id          | BIGSERIAL                |
| user_id     | INTEGER                  |
| title       | VARCHAR(50)              |
| description | TEXT                     |
| created_at  | TIMESTAMP WITH TIME ZONE |
| updated_at  | TIMESTAMP WITH TIME ZONE |

–î–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –Ω–∏–º–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã (–¥–æ–ø—É—Å—Ç–∏–º, —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ 9000 –ø–æ—Ä—Ç—É):

–î–ª—è **Users** –ø–æ –ø—É—Ç–∏ `/user`:
1.  GET ‚Äï –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –ø–æ id. 
–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞: `curl -X GET "http://localhost:9000/user?id=1"  `

2. POST ‚Äï —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π,
–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–¥ 200 –≤ —Å–ª—É—á–∞–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è.  
–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞: `curl -v -X POST "http://localhost:9000/user" -d '{ "name": "test", "email": "test@test.ru", "password": "qwerty123" }'`

3. PUT ‚Äï –æ–±–Ω–æ–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∑–∞–ø–∏—Å–∏, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–¥ 200 –≤ —Å–ª—É—á–∞–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.
–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞: `curl -v -X PUT "http://localhost:9000/user?id=1" -d '{ "name": "newName", "email": "newMail@mail.com", "password": "newPassword" }'  `

4. DELETE ‚Äï —É–¥–∞–ª—è–µ—Ç –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –ø–æ id, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–¥ 200 –≤ —Å–ª—É—á–∞–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è.
–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞: ` curl -v -X DELETE "http://localhost:9000/user?id=1"`

–î–ª—è **Tasks** –ø–æ –ø—É—Ç–∏ `/task`:

1.  GET ‚Äï –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∑–∞–¥–∞—á–µ –ø–æ id. 
–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞: `curl -X GET "http://localhost:9000/task?id=1"  `

2. POST ‚Äï —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ –∑–∞–¥–∞—á,
–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–¥ 200 –≤ —Å–ª—É—á–∞–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è.  
–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞: `curl -v -X POST "http://localhost:9000/task" -d '{ "user_id": 1, "title": "test", "description": "test description" }'`

3. PUT ‚Äï –æ–±–Ω–æ–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∑–∞–ø–∏—Å–∏, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–¥ 200 –≤ —Å–ª—É—á–∞–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.
–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞: `curl -v -X PUT "http://localhost:9000/task?id=1" -d '{ "user_id": 1, "title": "new title", "description": "new description" }'  `

4. DELETE ‚Äï —É–¥–∞–ª—è–µ—Ç –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ –∑–∞–¥–∞—á –ø–æ id, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–¥ 200 –≤ —Å–ª—É—á–∞–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è.
–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞: ` curl -v -X DELETE "http://localhost:9000/task?id=1"`


### 2. Unit-—Ç–µ—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ

–§–∞–π–ª `server_test.go` –≤–Ω—É—Ç—Ä–∏ –ø–∞–∫–µ—Ç–∞ `server` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ unit-—Ç–µ—Å—Ç—ã –¥–ª—è –º–µ—Ç–æ–¥–æ–≤ GET, POST, DELETE —Å—É—â–Ω–æ—Å—Ç–µ–π `task` –∏ `user`. –ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –ø–æ–¥—Ç–µ—Å—Ç–æ–≤: –æ–¥–∏–Ω –Ω–∞ —É—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã. –¥–ª—è –º–µ—Ç–æ–¥–∞ POST –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —É—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ. –ü–æ–∫—Ä—ã—Ç–∏–µ —Å–æ—Å—Ç–æ–≤–ª—è–µ—Ç 51.1%


### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—Å—è –≤ —Ñ–∞–π–ª–∞—Ö `user_test.go` `task_test.go` –≤–Ω—É—Ç—Ä–∏ –ø–∞–∫–µ—Ç–∞ `postgresql`. –û–Ω–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å –°–£–ë–î –≤ —Ä–∞–º–∫–∞—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç–æ–¥–æ–≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (Add –∏ GetById, Update, Delete). –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ –æ—à–∏–±–∫–∞ –∏–∑-–∑–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

*P.S.: –º–Ω–µ –Ω–µ –æ—á–µ–Ω—å –Ω—Ä–∞–≤–∏—Ç—Å—è –º–æ—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑ –¥–≤—É—Ö –º–æ–º–µ–Ω—Ç–æ–≤: 1. –≤–Ω—É—Ç—Ä–∏ –ø–∞–∫–µ—Ç–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–æ–≤—Ç–æ—Ä—è—é—â–µ–≥–æ—Å—è –∫–æ–¥–∞ 2. –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑ –æ—á–∏—â–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö*


### 4. Makefile

–í –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ c –ø–æ–º–æ—â—å—é docker-compose. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –æ–ø–∏—Å–∞–Ω—ã –≤ docker-compose.yaml
–î–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```
make compose-up
```

–î–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –±–¥ —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã:

```
make test-migration-up
```

–î–ª—è –∑–∞–ø—É—Å–∫–∞ —é–Ω–∏—Ç-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```
make run-unit-tests
```

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```
make run-integration-tests
```

–î–ª—è —Å–±—Ä–æ—Å–∞ —Å—É—â–Ω–æ—Å—Ç–µ–π –±–¥ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```
make test-migration-down
```